<div class="modal-content">
  <div class="modal-body social-profile text-start dark-sign-up">
    <div class="modal-toggle-wrapper">
      <div class="common-flex justify-content-between align-items-center m-b-10">
        <h6 class="text-primary">Send SMS</h6>

        <div class="common-flex align-items-center gap-3">
          <button class="btn-close py-0 float-end" type="button" (click)="closeModal.emit(null)"></button>
        </div>
      </div>

      <ul class="list-group m-b-12">
        @for (list of checkboxList; track list) {
          <li class="list-group-item pointer m-b-2 flex items-center gap-12">
            <input class="form-check-input m-0 checkbox-primary"
                   [id]="list.id"
                   type="radio"
                   name="listGroupRadio"
                   [value]="list.id"
                   [(ngModel)]="selectedId"
                   [disabled]="!list.value || !phone.valid"
            >
            <label class="form-check-label m-0 text-nowrap txt-primary"
                   [for]="list.id">{{ list.title }}</label>
            <input class="form-control"
                   #phone="ngModel"
                   [class.is-invalid]="!phone.valid"
                   type="text"
                   pattern="^(?:\+44\s?7\d{3}|\(?07\d{3}\)?)\s?\d{3}\s?\d{3}$"
                   placeholder="Enter Contact"
                   [(ngModel)]="list.value">
          </li>
        }
      </ul>

      <div class="form-floating">
        <textarea [(ngModel)]="text" class="form-control min-h-i-230" id="floatingTextarea" placeholder=""></textarea>
      </div>

      <div class="flex justify-between items-center m-t-12 gap-10">
        <button type="submit" class="btn btn-primary w-100 text-center"
                [disabled]="!selectedId"
                style="flex: 1" (click)="sendSMS()">
          Send SMS
          <span class="d-inline-block w-30 h-15">
            @if (loading) {
              <i class="fa-solid fa-spinner fa-spin-pulse m-l-10 h-14"></i>
            }
          </span>
        </button>

        <div class="flex gap-4 items-center" style="flex: 3">
          <button type="submit" class="btn btn-primary w-100 text-center" [cdkCopyToClipboard]="text"
                  (click)="closeModal.emit()">
            Copy and Close
          </button>

          <button type="submit" class="btn btn-primary w-100 text-center" [cdkCopyToClipboard]="text"
                  (click)="showSuccess()">
            Copy
          </button>

          <button type="submit" class="btn btn-secondary w-100 text-center" (click)="closeModal.emit()">
            Cancel
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
