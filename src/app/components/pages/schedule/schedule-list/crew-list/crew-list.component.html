<div class="offcanvas-header p-0 p-t-10 m-b-20">
  <h5 class="offcanvas-title" id="offcanvasRightLabel">{{ title }}</h5>
  <button class="btn-close" type="button" (click)="closeOffcanvas()"></button>
</div>

<form>
  <div class="flex-column row g-3 m-b-20 ">
    <ul class="list-group w-100 align-items-center flex-row">
      @for (region of regions; track region.title) {
        <li class="p-10">
          <input class="form-check-input me-1 checkbox-{{ region.class }}"
                 type="checkbox"
                 [(ngModel)]="region.checked" [name]="region.title">
          <label class="form-check-label txt-{{ region.class }} mb-0">{{ region.title }}</label>
        </li>
      }
    </ul>

    <ul class="list-group w-100 align-items-center flex-row">
      @for (lvl of levels; track lvl.title) {
        <li class="p-10">
          <input class="form-check-input me-1 checkbox-{{ lvl.class }}" type="checkbox"
                 [(ngModel)]="lvl.checked" [name]="lvl.title">
          <label class="form-check-label txt-{{ lvl.class }} mb-0">{{ lvl.title }}</label>
        </li>
      }
    </ul>
  </div>

  <app-card>
    <div style="padding-left: 23px; padding-right: 12px;">
      <div class="common-flex justify-content-between">
        <ng-template #popoverContentAll>
          <ul class="list-group">
            <li class="list-group-item border-bottom pointer">
              <i class="fa-solid rounded fa-phone-square"></i>
              Whatsapp
            </li>
            <li class="list-group-item border-bottom pointer">
              <i class="fa-solid fa-envelope"></i>
              Sms
            </li>
          </ul>
        </ng-template>

        <label class="form-check-label txt-warring mb-0">
          <input class="form-check-input me-1 checkbox-warring" name="selectAll"
                 type="checkbox" [(ngModel)]="allAreSelected" (change)="selectAll()">
          All
        </label>
        <i class="fa-solid rounded fa-phone-square text-success pointer f-20"
           [ngbPopover]="popoverContentAll"
           [popoverTitle]="'Contact'"
        ></i>
      </div>
    </div>
  </app-card>

  <ul class="list-group justify-content-between overflow-y-auto custom-scrollbar" style="max-height: 70dvh">
    @for (crew of crewList | crewFilter:getSelectedData('regions'):getSelectedData('levels'); track crew.crewId) {
      <li class="common-flex justify-content-between align-items-center list-group-item border-bottom">
        <i class="fa-solid fa-tag position-absolute" style="left: 4px; top: 4px"></i>
        <div>
          <a href="javascript:void(0)" class="badge badge-primary rounded-circle badge-p-space m-r-10">1</a>
          <span class="m-r-10">({{ crew.levelShortText }})</span>

          <label class="form-check-label txt-warring mb-0" [for]="crew.crewId">
            <input class="form-check-input me-1 checkbox-warring" [id]="crew.crewId"
                   type="checkbox" (change)="crewSelect(crew)"
                   [checked]="crew.isChecked">
            {{ crew.name }}
          </label>
        </div>

        <div class="common-flex align-items-center gap-1">
          <ng-template #popoverContent>
            <ul class="list-group">
              <li class="list-group-item border-bottom pointer">
                <i class="fa-solid rounded fa-phone-square"></i>
                WhatsApp
              </li>
              <li class="list-group-item border-bottom pointer">
                <i class="fa-solid fa-envelope"></i>
                Sms
              </li>
            </ul>
          </ng-template>

          @if (!crew.isFulltime) {
            <a href="javascript:void(0)" class="badge badge-warning rounded-circle badge-p-space m-r-10">PT</a>
          }
          <i class="fa-solid rounded fa-phone-square text-success pointer f-20"
             [ngbPopover]="popoverContent"
             [popoverTitle]="'Contact'"
          ></i>
        </div>
      </li>
    }
  </ul>
</form>

